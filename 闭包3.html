<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
</body>
<script>
  var f1 = function() {
    var res = [];
    var fun = null;
    for(var i = 0; i < 10; i++) {
      fun = function() { console.log(i);};//产生闭包
      res.push(fun);
    }
  
    return res;
  }
  
  // 会输出10个10，而不是预期的0 1 2 3 4 5 6 7 8 9
  var res = f1();
  for(var i = 0; i < res.length; i++) {
    res[i]();
  }
</script>

</html>